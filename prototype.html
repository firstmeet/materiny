<!DOCTYPE html>
<html lang="zh-CN">
<head></head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>孕育助手 - 鸿蒙原生原型</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #1E293B;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 430px;
            margin: 0 auto;
            background: #FFFFFF;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
        }

        /* 通用样式 */
        .page {
            display: none;
            min-height: 100vh;
            background: #F8FAFC;
            position: relative;
        }

        .page.active {
            display: block;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }

        .crystal-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .crystal-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
        }

        .crystal-card:hover::before {
            left: 100%;
        }

        .fluid-button {
            background: linear-gradient(135deg, #FF6B9D, #FFB8D1);
            border: none;
            border-radius: 50px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(255, 107, 157, 0.3);
        }

        .fluid-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255, 107, 157, 0.4);
        }

        .streamer-item {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            border-radius: 16px;
            position: relative;
            overflow: hidden;
        }

        .streamer-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,107,157,0.1), transparent);
            transition: left 0.5s;
        }

        .streamer-item:hover::before {
            left: 100%;
        }

        /* 禅寂计算工具样式 */
        .calculation-method-btn {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.2rem;
            border: 2px solid #E2E8F0;
            border-radius: 16px;
            background: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .calculation-method-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s;
        }

        .calculation-method-btn:hover::before {
            left: 100%;
        }

        .calculation-method-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .calculation-method-btn.active {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
        }

        .method-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-size: 1.2rem;
        }

        .method-content {
            flex: 1;
            text-align: left;
        }

        .method-title {
            font-weight: 600;
            color: #1E293B;
            margin-bottom: 0.3rem;
            font-size: 1rem;
        }

        .method-desc {
            color: #64748B;
            font-size: 0.85rem;
            line-height: 1.4;
        }

        .calculation-method-btn .fa-check-circle {
            color: #10B981;
            font-size: 1.2rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .calculation-method-btn.active .fa-check-circle {
            opacity: 1;
        }

        .input-group {
            margin-bottom: 1rem;
        }

        .input-group label {
            color: #1E293B;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: block;
        }

        .input-group input[type="date"] {
            width: 100%;
            padding: 1rem;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            font-size: 1rem;
            background: white;
            transition: border-color 0.3s ease;
        }

        .input-group input[type="date"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .result-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin-top: 1.5rem;
            text-align: center;
            animation: fadeInUp 0.6s ease-out;
        }

        .result-title {
            color: #1E293B;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .result-date {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .detail-item {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .detail-label {
            color: #64748B;
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }

        .detail-value {
            color: #1E293B;
            font-weight: 600;
            font-size: 1.1rem;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 启动页 */
        #splashPage {
            background: linear-gradient(135deg, #FF6B9D, #FFB8D1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .splash-logo {
            font-size: 4rem;
            margin-bottom: 1rem;
            text-shadow: 0 4px 20px rgba(0,0,0,0.2);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .splash-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .splash-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .loading-indicator {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 登录页 */
        #loginPage {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .login-container {
            width: 100%;
            max-width: 320px;
        }

        .login-logo {
            text-align: center;
            margin-bottom: 3rem;
            color: white;
        }

        .login-logo i {
            font-size: 4rem;
            margin-bottom: 1rem;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .login-logo h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .login-logo p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .login-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .btn-huawei {
            background: linear-gradient(135deg, #FF6B9D, #E55A8A);
            color: white;
            padding: 1.2rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            box-shadow: 0 4px 20px rgba(255, 107, 157, 0.4);
            transition: all 0.3s ease;
        }

        .btn-wechat {
            background: linear-gradient(135deg, #07C160, #05A84F);
            color: white;
            padding: 1.2rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            box-shadow: 0 4px 20px rgba(7, 193, 96, 0.4);
            transition: all 0.3s ease;
        }

        .btn-huawei:hover, .btn-wechat:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
        }

        .login-footer {
            text-align: center;
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
        }

        .login-footer a {
            color: white;
            text-decoration: none;
            font-weight: 500;
        }

        /* 状态选择页 */
        #statusPage {
            padding: 2rem;
            background: linear-gradient(135deg, #F8FAFC, #E2E8F0);
        }

        .status-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .status-header h2 {
            font-size: 1.8rem;
            color: #1E293B;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .status-header p {
            color: #64748B;
            font-size: 1rem;
        }

        .status-cards {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .status-card {
            padding: 2rem;
            border-radius: 24px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .status-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .status-card.health {
            background: linear-gradient(135deg, #4CD964, #87E8DE);
        }

        .status-card.pregnancy {
            background: linear-gradient(135deg, #5AC8FA, #9AE6FF);
        }

        .status-card.parenting {
            background: linear-gradient(135deg, #FF9500, #FFD666);
        }

        .status-icon {
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 2rem;
        }

        .status-card h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .status-card p {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .skip-btn {
            background: transparent;
            border: 2px solid rgba(100, 116, 139, 0.3);
            color: #64748B;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .skip-btn:hover {
            border-color: #64748B;
            color: #1E293B;
            background: rgba(255,255,255,0.5);
            transform: translateY(-2px);
        }

        /* 主页面 */
        #homePage {
            background: #F8FAFC;
        }

        .main-header {
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(20px);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .user-status {
            display: flex;
            flex-direction: column;
        }

        .status-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1E293B;
        }

        .status-days {
            font-size: 0.9rem;
            color: #64748B;
        }

        .header-icons {
            display: flex;
            gap: 1.2rem;
        }

        .header-icons i {
            font-size: 1.3rem;
            color: #64748B;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .header-icons i:hover {
            color: #FF6B9D;
        }

        .main-content {
            padding: 1.5rem;
            padding-bottom: 5rem;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1E293B;
            margin-bottom: 1rem;
        }

        /* 今日提醒 */
        .today-reminder {
            margin-bottom: 2rem;
        }

        .reminder-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .reminder-date {
            color: #64748B;
            font-size: 0.9rem;
        }

        .reminder-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .reminder-item {
            padding: 1.2rem;
            border-radius: 16px;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .reminder-item.important {
            background: linear-gradient(135deg, rgba(255,107,157,0.1), rgba(255,107,157,0.05));
            border-left: 4px solid #FF6B9D;
        }

        .reminder-item.normal {
            background: rgba(255,255,255,0.8);
        }

        .reminder-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .reminder-item.important .reminder-icon {
            background: #FF6B9D;
            color: white;
        }

        .reminder-item.normal .reminder-icon {
            background: #E2E8F0;
            color: #64748B;
        }

        .reminder-content h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #1E293B;
            margin-bottom: 0.2rem;
        }

        .reminder-content p {
            font-size: 0.9rem;
            color: #64748B;
        }

        /* 核心工具 */
        .tools-section {
            margin-bottom: 2rem;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .tool-card {
            padding: 1.5rem;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tool-card.health {
            background: linear-gradient(135deg, rgba(76,217,100,0.1), rgba(135,232,222,0.05));
            border: 1px solid rgba(76,217,100,0.2);
        }

        .tool-card.pregnancy {
            background: linear-gradient(135deg, rgba(90,200,250,0.1), rgba(154,230,255,0.05));
            border: 1px solid rgba(90,200,250,0.2);
        }

        .tool-card.parenting {
            background: linear-gradient(135deg, rgba(255,149,0,0.1), rgba(255,214,102,0.05));
            border: 1px solid rgba(255,149,0,0.2);
        }

        .tool-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .tool-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: white;
        }

        .tool-card.health .tool-icon {
            background: linear-gradient(135deg, #4CD964, #87E8DE);
        }

        .tool-card.pregnancy .tool-icon {
            background: linear-gradient(135deg, #5AC8FA, #9AE6FF);
        }

        .tool-card.parenting .tool-icon {
            background: linear-gradient(135deg, #FF9500, #FFD666);
        }

        .tool-card h3 {
            font-size: 1rem;
            font-weight: 600;
            color: #1E293B;
            margin-bottom: 0.5rem;
        }

        .tool-card p {
            font-size: 0.85rem;
            color: #64748B;
            line-height: 1.4;
        }

        /* 更多工具 */
        .more-tools {
            margin-bottom: 2rem;
        }

        .more-tools-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8rem;
        }

        .more-tool-item {
            padding: 1rem;
            background: rgba(255,255,255,0.8);
            border-radius: 16px;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .more-tool-item:hover {
            background: rgba(255,255,255,1);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .more-tool-item i {
            color: #FF6B9D;
            font-size: 1.2rem;
            width: 24px;
        }

        .more-tool-item span {
            font-size: 0.9rem;
            font-weight: 500;
            color: #1E293B;
        }

        /* 底部导航 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            display: flex;
            justify-content: space-around;
            padding: 0.8rem 0;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 12px;
            flex: 1;
            max-width: 80px;
        }

        .nav-item.active {
            color: #FF6B9D;
        }

        .nav-item i {
            font-size: 1.3rem;
            color: #64748B;
            transition: all 0.3s ease;
        }

        .nav-item.active i {
            color: #FF6B9D;
        }

        .nav-item span {
            font-size: 0.75rem;
            color: #64748B;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-item.active span {
            color: #FF6B9D;
            font-weight: 600;
        }

        .nav-item:hover {
            color: #FF6B9D;
        }

        .nav-item:hover i,
        .nav-item:hover span {
            color: #FF6B9D;
        }

        /* 工具页面 */
        .tool-page {
            background: #F8FAFC;
            min-height: 100vh;
            padding: 1.5rem;
            padding-bottom: 5rem;
        }

        .tool-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .tool-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1E293B;
        }

        .tool-back {
            background: none;
            border: none;
            font-size: 1.3rem;
            color: #64748B;
            cursor: pointer;
        }

        /* 经期预测页面 */
        .calendar-container {
            background: white;
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .calendar-month {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1E293B;
        }

        .calendar-nav {
            display: flex;
            gap: 1rem;
        }

        .calendar-nav button {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: #64748B;
            cursor: pointer;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
        }

        .calendar-day {
            text-align: center;
            padding: 0.8rem 0;
            border-radius: 12px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .calendar-day.period {
            background: linear-gradient(135deg, #FF6B9D, #FFB8D1);
            color: white;
        }

        .calendar-day.ovulation {
            background: linear-gradient(135deg, #4CD964, #87E8DE);
            color: white;
        }

        .calendar-day:hover {
            background: #F1F5F9;
        }

        /* 胎动计数页面 */
        .counter-container {
            background: linear-gradient(135deg, #1E293B, #334155);
            border-radius: 24px;
            padding: 2rem;
            text-align: center;
            color: white;
            margin-bottom: 2rem;
        }

        .counter-display {
            font-size: 4rem;
            font-weight: 700;
            margin: 1rem 0;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
            transition: transform 0.2s ease;
        }

        .counter-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .counter-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .counter-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        /* 可爱的计数按钮 */
        .cute-counter-btn {
            position: relative;
            background: linear-gradient(135deg, #FFB6C1, #FFE4E9);
            border: none;
            border-radius: 50px;
            padding: 1.2rem 2.5rem;
            color: #FF1493;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(255, 105, 180, 0.4),
                        inset 0 1px 0 rgba(255,255,255,0.6);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            min-width: 200px;
            justify-content: center;
        }

        .cute-counter-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: scale(0.95);
        }

        .cute-counter-btn:not(:disabled):hover {
            transform: scale(1.05) translateY(-3px);
            box-shadow: 0 12px 40px rgba(255, 105, 180, 0.5),
                        inset 0 1px 0 rgba(255,255,255,0.6);
        }

        .cute-counter-btn:not(:disabled):active {
            transform: scale(0.98) translateY(0);
        }

        .btn-icon-wrapper {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(255, 20, 147, 0.4);
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            10% { transform: scale(1.1); }
            20% { transform: scale(1); }
            30% { transform: scale(1.1); }
            40% { transform: scale(1); }
        }

        .btn-icon-wrapper i {
            color: white;
            font-size: 1.1rem;
        }

        .btn-text {
            color: #FF1493;
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(255,255,255,0.8);
        }

        .btn-ripple {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.6);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .cute-counter-btn:not(:disabled):active .btn-ripple {
            width: 300px;
            height: 300px;
        }

        .timer-display {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        /* 宫缩计时页面 */
        .contraction-container {
            background: linear-gradient(135deg, #5AC8FA, #9AE6FF);
            border-radius: 24px;
            padding: 2rem;
            text-align: center;
            color: white;
            margin-bottom: 2rem;
        }

        .contraction-timer {
            font-size: 3rem;
            font-weight: 700;
            margin: 1rem 0;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .contraction-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .contraction-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50px;
            padding: 1rem 2rem;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .contraction-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        /* 疫苗接种页面 */
        .vaccine-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .vaccine-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .vaccine-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }

        .vaccine-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .vaccine-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1E293B;
        }

        .vaccine-status {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .vaccine-status.completed {
            background: #4CD964;
            color: white;
        }

        .vaccine-status.upcoming {
            background: #FF9500;
            color: white;
        }

        .vaccine-status.future {
            background: #E2E8F0;
            color: #64748B;
        }

        .vaccine-info {
            display: flex;
            justify-content: space-between;
            color: #64748B;
            font-size: 0.9rem;
        }

        /* 页面切换按钮 */
        .page-nav {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .nav-btn {
            background: #FF6B9D;
            color: white;
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(255,107,157,0.3);
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,107,157,0.4);
        }

        .nav-btn.secondary {
            background: #64748B;
            box-shadow: 0 4px 15px rgba(100,116,139,0.3);
        }
    </style>
</head>
<body></body>
    <div class="container">
        <!-- 页面导航 -->
        <div class="page-nav">
            <button class="nav-btn" onclick="showPage('splashPage')">启动页</button>
            <button class="nav-btn" onclick="showPage('loginPage')">登录页</button>
            <button class="nav-btn" onclick="showPage('statusPage')">状态页</button>
            <button class="nav-btn" onclick="showPage('homePage')">主页</button>
            <button class="nav-btn" onclick="showPage('toolsPage')">工具页</button>
            <button class="nav-btn" onclick="toggleUserStatus()" style="background: linear-gradient(135deg, #FF9500, #FFD666);">切换状态</button>
            <button class="nav-btn secondary" onclick="showPage('periodPage')">经期预测</button>
            <button class="nav-btn secondary" onclick="showPage('ovulationPage')">排卵预测</button>
            <button class="nav-btn secondary" onclick="showPage('fetalPage')">胎动计数</button>
            <button class="nav-btn secondary" onclick="showPage('contractionPage')">宫缩计时</button>
            <button class="nav-btn secondary" onclick="showPage('vaccinePage')">疫苗接种</button>
            <button class="nav-btn secondary" onclick="showPage('dueDateCalculatorPage')">预产期计算</button>
        </div>

        <!-- 启动页 -->
        <div id="splashPage" class="page active">
            <div class="splash-logo">
                <i class="fas fa-heart"></i>
            </div>
            <h1 class="splash-title">孕育助手</h1>
            <p class="splash-subtitle">女性健康与孕育管理专家</p>
            <div class="loading-indicator"></div>
        </div>

        <!-- 登录页 -->
        <div id="loginPage" class="page">
            <div class="login-container">
                <div class="login-logo">
                    <i class="fas fa-heart"></i>
                    <h1>孕育助手</h1>
                    <p>女性健康与孕育管理专家</p>
                </div>

                <div class="login-buttons">
                    <button class="btn-huawei">
                        <i class="fab fa-huawei"></i>
                        华为一键登录
                    </button>
                    <button class="btn-wechat">
                        <i class="fab fa-weixin"></i>
                        微信登录
                    </button>
                </div>

                <div class="login-footer">
                    <p>登录即表示同意<a href="#">用户协议</a>和<a href="#">隐私政策</a></p>
                </div>
            </div>
        </div>

        <!-- 用户状态选择页 -->
        <div id="statusPage" class="page">
            <div class="status-header">
                <h2>请选择您的状态</h2>
                <p>我们将为您提供个性化的服务</p>
            </div>

            <div class="status-cards">
                <div class="status-card health" onclick="setUserStatus('health')">
                    <div class="status-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3>女性健康管理</h3>
                    <p>经期追踪、排卵预测、健康记录</p>
                </div>

                <div class="status-card pregnancy" onclick="setUserStatus('pregnancy')">
                    <div class="status-icon">
                        <i class="fas fa-baby"></i>
                    </div>
                    <h3>孕期管理</h3>
                    <p>胎动监测、宫缩计时、产检提醒</p>
                </div>

                <div class="status-card parenting" onclick="setUserStatus('parenting')">
                    <div class="status-icon">
                        <i class="fas fa-child"></i>
                    </div>
                    <h3>育儿管理</h3>
                    <p>疫苗接种、成长记录、育儿百科</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <button class="skip-btn" onclick="showPage('homePage')">
                    暂不设置，先浏览
                </button>
            </div>
        </div>

        <!-- 主页面 -->
        <div id="homePage" class="page">
            <!-- 顶部状态栏 -->
            <header class="main-header">
                <div class="user-status">
                    <div class="status-text">经期第3天</div>
                    <div class="status-days">剩余2天</div>
                </div>
                <div class="header-icons">
                    <i class="fas fa-bell"></i>
                    <i class="fas fa-user"></i>
                </div>
            </header>

            <!-- 孕期模式简洁问候（替代顶部状态栏重复信息） -->
            <div class="pregnancy-greeting" id="pregnancyGreeting" style="display: none;">
                <div style="padding: 1rem 1.5rem; background: linear-gradient(135deg, rgba(90,200,250,0.1), rgba(154,230,255,0.05)); border-bottom: 1px solid rgba(90,200,250,0.2);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="color: #1E293B; font-size: 1.2rem; font-weight: 600; margin-bottom: 0.2rem;">
                                <i class="fas fa-sun" style="color: #FF9500; margin-right: 0.5rem;"></i>
                                早安，准妈妈
                            </div>
                            <div style="color: #64748B; font-size: 0.9rem;">
                                今天是怀孕第 <span style="color: #5AC8FA; font-weight: 600;">246</span> 天
                            </div>
                        </div>
                        <div class="header-icons" style="display: flex; gap: 1.2rem;">
                            <i class="fas fa-bell" style="font-size: 1.3rem; color: #64748B; cursor: pointer;"></i>
                            <i class="fas fa-user" style="font-size: 1.3rem; color: #64748B; cursor: pointer;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 主要内容区域 -->
            <main class="main-content">
                <!-- 孕期信息卡片（仅孕期状态显示） -->
                <section class="pregnancy-info-card" id="pregnancyCard" style="display: none;">
                    <div class="glass-card" style="padding: 0; overflow: hidden; margin-bottom: 1.5rem; background: linear-gradient(135deg, rgba(90,200,250,0.95), rgba(154,230,255,0.95));">
                        <!-- 孕周信息头部 -->
                        <div style="padding: 1.5rem; position: relative; overflow: hidden;">
                            <!-- 装饰性背景 -->
                            <div style="position: absolute; top: -20px; right: -20px; width: 150px; height: 150px; background: rgba(255,255,255,0.1); border-radius: 50%; filter: blur(20px);"></div>
                            <div style="position: absolute; bottom: -30px; left: -30px; width: 100px; height: 100px; background: rgba(255,255,255,0.15); border-radius: 50%; filter: blur(15px);"></div>

                            <div style="position: relative; z-index: 1;">
                                <!-- 周数和日期 -->
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                                    <div>
                                        <div style="display: flex; align-items: baseline; gap: 0.5rem; margin-bottom: 0.5rem;">
                                            <span style="color: white; font-size: 2.5rem; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.2);">35</span>
                                            <span style="color: rgba(255,255,255,0.95); font-size: 1.2rem; font-weight: 600;">周</span>
                                            <span style="color: white; font-size: 2rem; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.2);">1</span>
                                            <span style="color: rgba(255,255,255,0.95); font-size: 1.2rem; font-weight: 600;">天</span>
                                        </div>
                                        <div style="color: rgba(255,255,255,0.9); font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem;">
                                            <i class="fas fa-calendar-alt"></i>
                                            <span>2024年10月20日 星期日</span>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="background: rgba(255,255,255,0.25); backdrop-filter: blur(10px); padding: 0.5rem 1rem; border-radius: 50px; border: 1px solid rgba(255,255,255,0.3);">
                                            <div style="color: rgba(255,255,255,0.9); font-size: 0.85rem;">预产期倒计时</div>
                                            <div style="color: white; font-size: 1.3rem; font-weight: 700;">34天</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 胎儿发育信息 -->
                                <div style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border-radius: 16px; padding: 1rem; border: 1px solid rgba(255,255,255,0.25);">
                                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; text-align: center;">
                                        <div>
                                            <div style="color: rgba(255,255,255,0.85); font-size: 0.85rem; margin-bottom: 0.3rem;">
                                                <i class="fas fa-ruler-vertical"></i> 身长
                                            </div>
                                            <div style="color: white; font-size: 1.2rem; font-weight: 700;">469mm</div>
                                        </div>
                                        <div>
                                            <div style="color: rgba(255,255,255,0.85); font-size: 0.85rem; margin-bottom: 0.3rem;">
                                                <i class="fas fa-weight"></i> 体重
                                            </div>
                                            <div style="color: white; font-size: 1.2rem; font-weight: 700;">2532g</div>
                                        </div>
                                        <div>
                                            <div style="color: rgba(255,255,255,0.85); font-size: 0.85rem; margin-bottom: 0.3rem;">
                                                <i class="fas fa-heartbeat"></i> 发育
                                            </div>
                                            <div style="color: white; font-size: 1.2rem; font-weight: 700;">良好</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 本周提示 -->
                        <div style="background: rgba(255,255,255,0.95); padding: 1.2rem 1.5rem;">
                            <div style="display: flex; gap: 1rem;">
                                <div style="flex-shrink: 0; width: 50px; height: 50px; background: linear-gradient(135deg, #5AC8FA, #9AE6FF); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(90,200,250,0.3);">
                                    <i class="fas fa-baby" style="color: white; font-size: 1.3rem;"></i>
                                </div>
                                <div style="flex: 1;">
                                    <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem; font-size: 1rem;">
                                        宝宝本周变化
                                    </div>
                                    <div style="color: #64748B; font-size: 0.9rem; line-height: 1.5;">
                                        宝宝现在越长越大啦，都不能在羊水里自由自在地漂来漂去啦
                                    </div>
                                </div>
                                <button onclick="showPregnancyGuide()" style="background: linear-gradient(135deg, #5AC8FA, #9AE6FF); border: none; color: white; padding: 0.6rem 1rem; border-radius: 50px; font-size: 0.9rem; font-weight: 600; cursor: pointer; white-space: nowrap; box-shadow: 0 4px 15px rgba(90,200,250,0.3);">
                                    查看详情 <i class="fas fa-chevron-right" style="font-size: 0.8rem; margin-left: 0.3rem;"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- 今日提醒 -->
                <section class="today-reminder">
                    <div class="reminder-header">
                        <h2 class="section-title">今日提醒</h2>
                        <span class="reminder-date">2024年1月15日</span>
                    </div>
                    <div class="reminder-list">
                        <div class="reminder-item important">
                            <div class="reminder-icon">
                                <i class="fas fa-pills"></i>
                            </div>
                            <div class="reminder-content">
                                <h4>补充叶酸</h4>
                                <p>上午 8:00</p>
                            </div>
                        </div>
                        <div class="reminder-item normal">
                            <div class="reminder-icon">
                                <i class="fas fa-walking"></i>
                            </div>
                            <div class="reminder-content">
                                <h4>散步30分钟</h4>
                                <p>下午 4:00</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 核心工具区域 -->
                <section class="tools-section">
                    <h2 class="section-title">核心工具</h2>
                    <div class="tools-grid">
                        <!-- 女性健康工具 -->
                        <div class="tool-card health" onclick="showPage('periodPage')">
                            <div class="tool-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <h3>经期预测</h3>
                            <p>智能预测月经周期</p>
                        </div>

                        <div class="tool-card health" onclick="showPage('ovulationPage')">
                            <div class="tool-icon">
                                <i class="fas fa-egg"></i>
                            </div>
                            <h3>排卵预测</h3>
                            <p>精准计算易孕期</p>
                        </div>

                        <!-- 孕期工具 -->
                        <div class="tool-card pregnancy" onclick="showPage('fetalPage')">
                            <div class="tool-icon">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <h3>胎动计数</h3>
                            <p>实时监测胎动</p>
                        </div>

                        <div class="tool-card pregnancy" onclick="showPage('contractionPage')">
                            <div class="tool-icon">
                                <i class="fas fa-wave-square"></i>
                            </div>
                            <h3>宫缩计时</h3>
                            <p>记录宫缩频率</p>
                        </div>

                        <!-- 育儿工具 -->
                        <div class="tool-card parenting" onclick="showPage('vaccinePage')">
                            <div class="tool-icon">
                                <i class="fas fa-syringe"></i>
                            </div>
                            <h3>疫苗接种</h3>
                            <p>提醒与记录</p>
                        </div>

                        <div class="tool-card parenting">
                            <div class="tool-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3>成长记录</h3>
                            <p>身高体重曲线</p>
                        </div>
                    </div>
                </section>

                <!-- 更多工具 -->
                <section class="more-tools">
                    <h2 class="section-title">更多工具</h2>
                    <div class="more-tools-grid">
                        <div class="more-tool-item">
                            <i class="fas fa-thermometer-half"></i>
                            <span>基础体温</span>
                        </div>
                        <div class="more-tool-item">
                            <i class="fas fa-stethoscope"></i>
                            <span>症状记录</span>
                        </div>
                        <div class="more-tool-item">
                            <i class="fas fa-file-medical"></i>
                            <span>产检提醒</span>
                        </div>
                        <div class="more-tool-item">
                            <i class="fas fa-book-medical"></i>
                            <span>育儿百科</span>
                        </div>
                    </div>
                </section>
            </main>

            <!-- 底部导航 -->
            <nav class="bottom-nav">
                <div class="nav-item active" onclick="showPage('homePage')">
                    <i class="fas fa-home"></i>
                    <span>首页</span>
                </div>
                <div class="nav-item" onclick="showPage('toolsPage')">
                    <i class="fas fa-tools"></i>
                    <span>工具</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>记录</span>
                </div>
                <div class="nav-item" onclick="showPage('profilePage')">
                    <i class="fas fa-user"></i>
                    <span>我的</span>
                </div>
            </nav>
        </div>

        <!-- 工具页面 -->
        <div id="toolsPage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('homePage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">全部工具</h2>
                <i class="fas fa-tools" style="color: #5AC8FA; font-size: 1.5rem;"></i>
            </div>

            <!-- 搜索框 -->
            <div style="margin-bottom: 1.5rem;">
                <div style="position: relative;">
                    <input type="text" placeholder="搜索工具..." style="width: 100%; padding: 1rem 1rem 1rem 3rem; border: none; border-radius: 50px; background: rgba(255,255,255,0.8); font-size: 1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
                    <i class="fas fa-search" style="position: absolute; left: 1.2rem; top: 50%; transform: translateY(-50%); color: #64748B;"></i>
                </div>
            </div>

            <!-- 健康管理工具 -->
            <div class="tools-section" style="margin-bottom: 2rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem; font-size: 1.2rem; font-weight: 600;">
                    <i class="fas fa-heart" style="color: #FF6B9D; margin-right: 0.5rem;"></i>
                    健康管理
                </h3>
                <div class="tools-grid">
                    <div class="tool-card health" onclick="showPage('periodPage')">
                        <div class="tool-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h3>经期预测</h3>
                        <p>智能预测月经周期</p>
                    </div>

                    <div class="tool-card health" onclick="showPage('ovulationPage')">
                        <div class="tool-icon">
                            <i class="fas fa-egg"></i>
                        </div>
                        <h3>排卵预测</h3>
                        <p>精准计算易孕期</p>
                    </div>

                    <div class="tool-card health">
                        <div class="tool-icon">
                            <i class="fas fa-thermometer-half"></i>
                        </div>
                        <h3>基础体温</h3>
                        <p>体温变化记录</p>
                    </div>

                    <div class="tool-card health">
                        <div class="tool-icon">
                            <i class="fas fa-stethoscope"></i>
                        </div>
                        <h3>症状记录</h3>
                        <p>身体症状追踪</p>
                    </div>
                </div>
            </div>

            <!-- 孕期管理工具 -->
            <div class="tools-section" style="margin-bottom: 2rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem; font-size: 1.2rem; font-weight: 600;">
                    <i class="fas fa-baby" style="color: #5AC8FA; margin-right: 0.5rem;"></i>
                    孕期管理
                </h3>
                <div class="tools-grid">
                    <div class="tool-card pregnancy" onclick="showPage('fetalPage')">
                        <div class="tool-icon">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <h3>胎动计数</h3>
                        <p>实时监测胎动</p>
                    </div>

                    <div class="tool-card pregnancy" onclick="showPage('contractionPage')">
                        <div class="tool-icon">
                            <i class="fas fa-wave-square"></i>
                        </div>
                        <h3>宫缩计时</h3>
                        <p>记录宫缩频率</p>
                    </div>

                    <div class="tool-card pregnancy" onclick="openDueDateCalculator()">
                        <div class="tool-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3>预产期计算</h3>
                        <p>精准计算预产期</p>
                    </div>

                    <div class="tool-card pregnancy">
                        <div class="tool-icon">
                            <i class="fas fa-file-medical"></i>
                        </div>
                        <h3>产检提醒</h3>
                        <p>产检时间安排</p>
                    </div>

                    <div class="tool-card pregnancy">
                        <div class="tool-icon">
                            <i class="fas fa-weight"></i>
                        </div>
                        <h3>体重管理</h3>
                        <p>孕期体重记录</p>
                    </div>
                </div>
            </div>

            <!-- 育儿管理工具 -->
            <div class="tools-section" style="margin-bottom: 2rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem; font-size: 1.2rem; font-weight: 600;">
                    <i class="fas fa-child" style="color: #FF9500; margin-right: 0.5rem;"></i>
                    育儿管理
                </h3>
                <div class="tools-grid">
                </div>
            </div>

            <!-- 育儿管理工具 -->
            <div class="tools-section" style="margin-bottom: 2rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem; font-size: 1.2rem; font-weight: 600;">
                    <i class="fas fa-child" style="color: #FF9500; margin-right: 0.5rem;"></i>
                    育儿管理
                </h3>
                <div class="tools-grid">
                    <div class="tool-card parenting" onclick="showPage('vaccinePage')">
                        <div class="tool-icon">
                            <i class="fas fa-syringe"></i>
                        </div>
                        <h3>疫苗接种</h3>
                        <p>提醒与记录</p>
                    </div>

                    <div class="tool-card parenting">
                        <div class="tool-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>成长记录</h3>
                        <p>身高体重曲线</p>
                    </div>

                    <div class="tool-card parenting">
                        <div class="tool-icon">
                            <i class="fas fa-bed"></i>
                        </div>
                        <h3>睡眠记录</h3>
                        <p>宝宝睡眠统计</p>
                    </div>

                    <div class="tool-card parenting">
                        <div class="tool-icon">
                            <i class="fas fa-bottle"></i>
                        </div>
                        <h3>喂养记录</h3>
                        <p>喂养时间管理</p>
                    </div>
                </div>
            </div>

            <!-- 其他工具 -->
            <div class="tools-section">
                <h3 style="color: #1E293B; margin-bottom: 1rem; font-size: 1.2rem; font-weight: 600;">
                    <i class="fas fa-calculator" style="color: #4CD964; margin-right: 0.5rem;"></i>
                    其他工具
                </h3>
                <div class="more-tools-grid">
                    <div class="more-tool-item">
                        <i class="fas fa-calculator"></i>
                        <span>预产期计算</span>
                    </div>
                    <div class="more-tool-item">
                        <i class="fas fa-ruler"></i>
                        <span>单位转换</span>
                    </div>
                    <div class="more-tool-item">
                        <i class="fas fa-book-medical"></i>
                        <span>孕育百科</span>
                    </div>
                    <div class="more-tool-item">
                        <i class="fas fa-users"></i>
                        <span>社区交流</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 预产期计算页面 -->
        <div id="dueDateCalculatorPage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('toolsPage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">预产期计算</h2>
                <i class="fas fa-calculator" style="color: #5AC8FA; font-size: 1.5rem;"></i>
            </div>

            <!-- 计算方式选择 -->
            <div class="crystal-card" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-calculator" style="color: #5AC8FA; margin-right: 0.5rem;"></i>
                    选择计算方式
                </h3>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <button class="calculation-method-btn active" onclick="selectMethod('lmp')" id="lmpMethod">
                        <div class="method-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="method-content">
                            <div class="method-title">末次月经计算</div>
                            <div class="method-desc">根据末次月经第一天计算</div>
                        </div>
                        <i class="fas fa-check-circle"></i>
                    </button>

                    <button class="calculation-method-btn" onclick="selectMethod('conception')" id="conceptionMethod">
                        <div class="method-icon">
                            <i class="fas fa-heart-circle-check"></i>
                        </div>
                        <div class="method-content">
                            <div class="method-title">受孕日期计算</div>
                            <div class="method-desc">根据受孕日期计算</div>
                        </div>
                        <i class="fas fa-check-circle"></i>
                    </button>

                    <button class="calculation-method-btn" onclick="selectMethod('ivf')" id="ivfMethod">
                        <div class="method-icon">
                            <i class="fas fa-microscope"></i>
                        </div>
                        <div class="method-content">
                            <div class="method-title">IVF移植计算</div>
                            <div class="method-desc">试管婴儿移植日期</div>
                        </div>
                        <i class="fas fa-check-circle"></i>
                    </button>
                </div>
            </div>

            <!-- 输入区域 -->
            <div class="streamer-item" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-calendar-alt" style="color: #FF6B9D; margin-right: 0.5rem;"></i>
                    输入信息
                </h3>
                <div style="display: flex; flex-direction: column; gap: 1.2rem;">
                    <!-- 末次月经输入 -->
                    <div class="input-group" id="lmpInputGroup">
                        <label style="color: #1E293B; font-weight: 600; margin-bottom: 0.5rem; display: block;">
                            末次月经第一天
                        </label>
                        <input type="date" id="lmpDate" style="width: 100%; padding: 1rem; border: 2px solid #E2E8F0; border-radius: 12px; font-size: 1rem; background: white;">
                    </div>

                    <!-- 受孕日期输入 -->
                    <div class="input-group" id="conceptionInputGroup" style="display: none;">
                        <label style="color: #1E293B; font-weight: 600; margin-bottom: 0.5rem; display: block;">
                            受孕日期
                        </label>
                        <input type="date" id="conceptionDate" style="width: 100%; padding: 1rem; border: 2px solid #E2E8F0; border-radius: 12px; font-size: 1rem; background: white;">
                    </div>

                    <!-- IVF移植输入 -->
                    <div class="input-group" id="ivfInputGroup" style="display: none;">
                        <label style="color: #1E293B; font-weight: 600; margin-bottom: 0.5rem; display: block;">
                            移植日期
                        </label>
                        <input type="date" id="ivfDate" style="width: 100%; padding: 1rem; border: 2px solid #E2E8F0; border-radius: 12px; font-size: 1rem; background: white;">
                        <div style="margin-top: 0.8rem;">
                            <label style="color: #64748B; font-size: 0.9rem; display: block; margin-bottom: 0.5rem;">
                                胚胎类型
                            </label>
                            <div style="display: flex; gap: 1rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="radio" name="embryoType" value="day3" checked>
                                    <span style="color: #1E293B;">第3天胚胎</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="radio" name="embryoType" value="day5">
                                    <span style="color: #1E293B;">第5天囊胚</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <button class="fluid-button" onclick="calculateDueDate()" style="width: 100%; padding: 1.2rem; font-size: 1.1rem;">
                        <i class="fas fa-calculator" style="margin-right: 0.5rem;"></i>
                        计算预产期
                    </button>
                </div>
            </div>

            <!-- 计算结果 -->
            <div class="crystal-card" style="padding: 1.5rem; display: none;" id="resultCard">
                <h3 style="color: #1E293B; margin

        <!-- 用户设置页面 -->
        <div id="profilePage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('homePage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">个人设置</h2>
                <i class="fas fa-user-cog" style="color: #FF6B9D; font-size: 1.5rem;"></i>
            </div>

            <!-- 用户头像和基本信息 -->
            <div class="crystal-card" style="padding: 2rem; text-align: center; margin-bottom: 1.5rem;">
                <div class="avatar-container" style="margin-bottom: 1.5rem;">
                    <div style="position: relative; display: inline-block;">
                        <div style="width: 100px; height: 100px; background: linear-gradient(135deg, #FF6B9D, #FFB8D1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto; box-shadow: 0 8px 25px rgba(255,107,157,0.3);">
                            <i class="fas fa-user" style="color: white; font-size: 2.5rem;"></i>
                        </div>
                        <button onclick="changeAvatar()" style="position: absolute; bottom: 0; right: 0; width: 35px; height: 35px; background: #5AC8FA; border: 3px solid white; border-radius: 50%; color: white; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                </div>
                <h3 style="color: #1E293B; margin-bottom: 0.5rem; font-size: 1.3rem;" id="userNameDisplay">用户昵称</h3>
                <p style="color: #64748B; font-size: 0.9rem;">点击编辑个人信息</p>
            </div>

            <!-- 基本信息设置 -->
            <div class="streamer-item" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-user-edit" style="color: #5AC8FA; margin-right: 0.5rem;"></i>
                    基本信息
                </h3>
                <div style="display: flex; flex-direction: column; gap: 1.2rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255,255,255,0.5); border-radius: 12px;">
                        <div>
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">昵称</div>
                            <div style="color: #64748B; font-size: 0.9rem;" id="currentUserName">用户昵称</div>
                        </div>
                        <button onclick="editUserName()" style="background: none; border: none; color: #5AC8FA; cursor: pointer; font-size: 1.1rem;">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255,255,255,0.5); border-radius: 12px;">
                        <div>
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">当前状态</div>
                            <div style="color: #64748B; font-size: 0.9rem;" id="currentUserStatus">女性健康管理</div>
                        </div>
                        <button onclick="showPage('statusPage')" style="background: none; border: none; color: #5AC8FA; cursor: pointer; font-size: 1.1rem;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 经期设置 -->
            <div class="crystal-card" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-calendar-heart" style="color: #FF6B9D; margin-right: 0.5rem;"></i>
                    经期设置
                </h3>
                <div style="display: flex; flex-direction: column; gap: 1.2rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255,107,157,0.05); border-radius: 12px; border: 1px solid rgba(255,107,157,0.1);">
                        <div>
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">末次月经时间</div>
                            <div style="color: #64748B; font-size: 0.9rem;" id="lastPeriodDate">未设置</div>
                        </div>
                        <button onclick="setLastPeriodDate()" style="background: none; border: none; color: #FF6B9D; cursor: pointer; font-size: 1.1rem;">
                            <i class="fas fa-calendar-plus"></i>
                        </button>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255,107,157,0.05); border-radius: 12px; border: 1px solid rgba(255,107,157,0.1);">
                        <div>
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">周期长度</div>
                            <div style="color: #64748B; font-size: 0.9rem;" id="cycleLength">28天 (默认)</div>
                        </div>
                        <button onclick="setCycleLength()" style="background: none; border: none; color: #FF6B9D; cursor: pointer; font-size: 1.1rem;">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255,107,157,0.05); border-radius: 12px; border: 1px solid rgba(255,107,157,0.1);">
                        <div>
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">经期长度</div>
                            <div style="color: #64748B; font-size: 0.9rem;" id="periodLength">5天 (默认)</div>
                        </div>
                        <button onclick="setPeriodLength()" style="background: none; border: none; color: #FF6B9D; cursor: pointer; font-size: 1.1rem;">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 孕期设置 -->
            <div class="streamer-item" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-baby" style="color: #5AC8FA; margin-right: 0.5rem;"></i>
                    孕期设置
                </h3>
                <div style="display: flex; flex-direction: column; gap: 1.2rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(90,200,250,0.05); border-radius: 12px; border: 1px solid rgba(90,200,250,0.1);">
                        <div>
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">预产期</div>
                            <div style="color: #64748B; font-size: 0.9rem;" id="dueDate">未设置</div>
                        </div>
                        <button onclick="setDueDate()" style="background: none; border: none; color: #5AC8FA; cursor: pointer; font-size: 1.1rem;">
                            <i class="fas fa-calendar-plus"></i>
                        </button>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(90,200,250,0.05); border-radius: 12px; border: 1px solid rgba(90,200,250,0.1);">
                        <div>
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">末次月经推算</div>
                            <div style="color: #64748B; font-size: 0.9rem;" id="calculatedLMP">点击设置预产期自动计算</div>
                        </div>
                        <button onclick="calculateFromDueDate()" style="background: none; border: none; color: #5AC8FA; cursor: pointer; font-size: 1.1rem;">
                            <i class="fas fa-calculator"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 其他设置 -->
            <div class="crystal-card" style="padding: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-cog" style="color: #64748B; margin-right: 0.5rem;"></i>
                    其他设置
                </h3>
                <div style="display: flex; flex-direction: column; gap: 0.8rem;">
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(100,116,139,0.05); border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <i class="fas fa-bell" style="color: #FF9500;"></i>
                            <span style="color: #1E293B; font-weight: 500;">推送通知</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(100,116,139,0.05); border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <i class="fas fa-moon" style="color: #5AC8FA;"></i>
                            <span style="color: #1E293B; font-weight: 500;">深色模式</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(100,116,139,0.05); border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <i class="fas fa-shield-alt" style="color: #4CD964;"></i>
                            <span style="color: #1E293B; font-weight: 500;">隐私保护</span>
                        </div>
                        <button style="background: none; border: none; color: #64748B; cursor: pointer;">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(100,116,139,0.05); border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <i class="fas fa-question-circle" style="color: #FF6B9D;"></i>
                            <span style="color: #1E293B; font-weight: 500;">帮助与反馈</span>
                        </div>
                        <button style="background: none; border: none; color: #64748B; cursor: pointer;">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <style>
                .switch {
                    position: relative;
                    display: inline-block;
                    width: 50px;
                    height: 24px;
                }

                .switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: #CBD5E1;
                    transition: .4s;
                    border-radius: 24px;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 16px;
                    width: 16px;
                    left: 4px;
                    bottom: 4px;
                    background-color: white;
                    transition: .4s;
                    border-radius: 50%;
                }

                input:checked + .slider {
                    background-color: #5AC8FA;
                }

                input:checked + .slider:before {
                    transform: translateX(26px);
                }
            </style>
        </div>

        <!-- 经期预测页面 -->
        <div id="periodPage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('homePage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">经期预测</h2>
                <i class="fas fa-calendar-heart" style="color: #4CD964; font-size: 1.5rem;"></i>
            </div>

            <div class="calendar-container">
                <div class="calendar-header">
                    <div class="calendar-month">2024年1月</div>
                    <div class="calendar-nav">
                        <button><i class="fas fa-chevron-left"></i></button>
                        <button><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
                <div class="calendar-grid">
                    <div style="text-align: center; color: #64748B; font-size: 0.8rem;">日</div>
                    <div style="text-align: center; color: #64748B; font-size: 0.8rem;">一</div>
                    <div style="text-align: center; color: #64748B; font-size: 0.8rem;">二</div>
                    <div style="text-align: center; color: #64748B; font-size: 0.8rem;">三</div>
                    <div style="text-align: center; color: #64748B; font-size: 0.8rem;">四</div>
                    <div style="text-align: center; color: #64748B; font-size: 0.8rem;">五</div>
                    <div style="text-align: center; color: #64748B; font-size: 0.8rem;">六</div>

                    <div class="calendar-day" style="color: #CBD5E1;">31</div>
                    <div class="calendar-day">1</div>
                    <div class="calendar-day">2</div>
                    <div class="calendar-day">3</div>
                    <div class="calendar-day">4</div>
                    <div class="calendar-day">5</div>
                    <div class="calendar-day">6</div>

                    <div class="calendar-day period">7</div>
                    <div class="calendar-day period">8</div>
                    <div class="calendar-day period">9</div>
                    <div class="calendar-day period">10</div>
                    <div class="calendar-day period">11</div>
                    <div class="calendar-day">12</div>
                    <div class="calendar-day">13</div>

                    <div class="calendar-day ovulation">14</div>
                    <div class="calendar-day ovulation">15</div>
                    <div class="calendar-day ovulation">16</div>
                    <div class="calendar-day">17</div>
                    <div class="calendar-day">18</div>
                    <div class="calendar-day">19</div>
                    <div class="calendar-day">20</div>
                </div>
            </div>

            <div class="crystal-card" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem;">预测信息</h3>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                    <div>
                        <div style="color: #64748B; font-size: 0.9rem;">下次经期</div>
                        <div style="color: #1E293B; font-weight: 600;">2月8日</div>
                    </div>
                    <div>
                        <div style="color: #64748B; font-size: 0.9rem;">排卵期</div>
                        <div style="color: #1E293B; font-weight: 600;">1月24-28日</div>
                    </div>
                </div>
            </div>

            <div class="streamer-item" style="padding: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem;">今日症状</h3>
                <div style="display: flex; gap: 0.8rem; flex-wrap: wrap;">
                    <div style="background: rgba(255,107,157,0.1); color: #FF6B9D; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">腹痛</div>
                    <div style="background: rgba(255,107,157,0.1); color: #FF6B9D; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">疲劳</div>
                    <div style="background: rgba(255,107,157,0.1); color: #FF6B9D; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem;">心情好</div>
                    <div style="border: 1px dashed #FF6B9D; color: #FF6B9D; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; cursor: pointer;">+ 记录症状</div>
                </div>
            </div>
        </div>

        <!-- 排卵预测页面 -->
        <div id="ovulationPage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('homePage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">排卵预测</h2>
                <i class="fas fa-egg" style="color: #4CD964; font-size: 1.5rem;"></i>
            </div>

            <!-- 易孕期显示 -->
            <div class="crystal-card" style="padding: 2rem; margin-bottom: 1.5rem; text-align: center;">
                <div style="display: inline-block; padding: 0.5rem 1.5rem; background: linear-gradient(135deg, #4CD964, #87E8DE); color: white; border-radius: 50px; font-weight: 600; margin-bottom: 1rem;">
                    <i class="fas fa-heart" style="margin-right: 0.5rem;"></i>
                    易孕期
                </div>
                <div style="font-size: 2.5rem; font-weight: 700; color: #1E293B; margin-bottom: 0.5rem;">
                    1月24日 - 28日
                </div>
                <div style="color: #64748B; font-size: 1rem;">
                    距离排卵日还有 <span style="color: #4CD964; font-weight: 600;">9天</span>
                </div>
            </div>

            <!-- 关键日期 -->
            <div class="streamer-item" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-calendar-check" style="color: #4CD964; margin-right: 0.5rem;"></i>
                    关键日期
                </h3>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding-bottom: 1rem; border-bottom: 1px solid rgba(0,0,0,0.05);">
                        <div>
                            <div style="color: #64748B; font-size: 0.9rem; margin-bottom: 0.3rem;">排卵日</div>
                            <div style="color: #1E293B; font-weight: 600; font-size: 1.1rem;">1月26日 (周五)</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #4CD964, #87E8DE); color: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600;">
                            最佳受孕日
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding-bottom: 1rem; border-bottom: 1px solid rgba(0,0,0,0.05);">
                        <div>
                            <div style="color: #64748B; font-size: 0.9rem; margin-bottom: 0.3rem;">易孕期开始</div>
                            <div style="color: #1E293B; font-weight: 600; font-size: 1.1rem;">1月24日 (周三)</div>
                        </div>
                        <div style="background: rgba(76,217,100,0.1); color: #4CD964; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600;">
                            高受孕期
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="color: #64748B; font-size: 0.9rem; margin-bottom: 0.3rem;">易孕期结束</div>
                            <div style="color: #1E293B; font-weight: 600; font-size: 1.1rem;">1月28日 (周日)</div>
                        </div>
                        <div style="background: rgba(76,217,100,0.1); color: #4CD964; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600;">
                            高受孕期
                        </div>
                    </div>
                </div>
            </div>

            <!-- 备孕建议 -->
            <div class="crystal-card" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1.5rem; font-size: 1.1rem;">
                    <i class="fas fa-lightbulb" style="color: #FF9500; margin-right: 0.5rem;"></i>
                    备孕建议
                </h3>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <div style="display: flex; gap: 1rem; align-items: start;">
                        <div style="min-width: 40px; height: 40px; background: rgba(76,217,100,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-heart" style="color: #4CD964;"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">把握最佳时机</div>
                            <div style="color: #64748B; font-size: 0.9rem; line-height: 1.6;">排卵日前2天至排卵日当天是最佳受孕时间，建议在此期间适当增加同房频率。</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 1rem; align-items: start;">
                        <div style="min-width: 40px; height: 40px; background: rgba(90,200,250,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-thermometer-half" style="color: #5AC8FA;"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">监测基础体温</div>
                            <div style="color: #64748B; font-size: 0.9rem; line-height: 1.6;">每天早晨测量体温，排卵后体温会上升0.3-0.5℃，帮助更准确判断排卵日。</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 1rem; align-items: start;">
                        <div style="min-width: 40px; height: 40px; background: rgba(255,107,157,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-bed" style="color: #FF6B9D;"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="color: #1E293B; font-weight: 600; margin-bottom: 0.3rem;">保持良好作息</div>
                            <div style="color: #64748B; font-size: 0.9rem; line-height: 1.6;">充足睡眠、均衡饮食、适度运动，保持身心放松有助于提高受孕率。</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 排卵迹象 -->
            <div class="streamer-item" style="padding: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem; font-size: 1.1rem;">
                    <i class="fas fa-clipboard-check" style="color: #5AC8FA; margin-right: 0.5rem;"></i>
                    排卵期常见迹象
                </h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.8rem;">
                    <div style="background: rgba(76,217,100,0.05); padding: 1rem; border-radius: 12px; text-align: center;">
                        <i class="fas fa-water" style="color: #4CD964; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                        <div style="color: #1E293B; font-size: 0.9rem; font-weight: 600;">白带增多</div>
                    </div>
                    <div style="background: rgba(76,217,100,0.05); padding: 1rem; border-radius: 12px; text-align: center;">
                        <i class="fas fa-temperature-high" style="color: #4CD964; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                        <div style="color: #1E293B; font-size: 0.9rem; font-weight: 600;">体温上升</div>
                    </div>
                    <div style="background: rgba(76,217,100,0.05); padding: 1rem; border-radius: 12px; text-align: center;">
                        <i class="fas fa-smile" style="color: #4CD964; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                        <div style="color: #1E293B; font-size: 0.9rem; font-weight: 600;">性欲增强</div>
                    </div>
                    <div style="background: rgba(76,217,100,0.05); padding: 1rem; border-radius: 12px; text-align: center;">
                        <i class="fas fa-hand-holding-medical" style="color: #4CD964; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                        <div style="color: #1E293B; font-size: 0.9rem; font-weight: 600;">小腹微胀</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 胎动计数页面 -->
        <div id="fetalPage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('homePage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">胎动计数</h2>
                <i class="fas fa-heartbeat" style="color: #5AC8FA; font-size: 1.5rem;"></i>
            </div>

            <!-- 计数器 -->
            <div class="counter-container">
                <div style="color: rgba(255,255,255,0.8); font-size: 1rem; margin-bottom: 0.5rem;">本次监测</div>

                <!-- 本次统计 -->
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                    <div style="text-align: center; padding: 1rem; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); border-radius: 16px; border: 1px solid rgba(255,255,255,0.3);">
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.85rem; margin-bottom: 0.5rem;">总次数</div>
                        <div style="color: white; font-size: 2.5rem; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.3); transition: all 0.2s ease;" id="totalCount">0</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.75rem; margin-top: 0.3rem;">
                            <i class="fas fa-hand-pointer"></i> 所有点击
                        </div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(255,255,255,0.25); backdrop-filter: blur(10px); border-radius: 16px; border: 1px solid rgba(255,255,255,0.35);">
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.85rem; margin-bottom: 0.5rem;">有效次数</div>
                        <div style="color: white; font-size: 2.5rem; font-weight: 700; text-shadow: 0 2px 10px rgba(0,0,0,0.3); transition: all 0.3s ease;" id="validCount">0</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.75rem; margin-top: 0.3rem;">
                            <i class="fas fa-check-circle"></i> 间隔>5分钟
                        </div>
                    </div>
                </div>

                <div class="timer-display" id="timerDisplay">计时: 00:00</div>

                <div style="display: flex; justify-content: center; gap: 2rem; margin: 1rem 0;">
                    <div style="text-align: center;">
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.85rem; margin-bottom: 0.3rem;">开始时间</div>
                        <div style="color: white; font-weight: 600;" id="startTime">--:--</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.85rem; margin-bottom: 0.3rem;">上次胎动</div>
                        <div style="color: white; font-weight: 600;" id="lastMovementTime">--:--</div>
                    </div>
                </div>

                <div class="counter-controls" style="margin: 1.5rem 0;">
                    <button class="cute-counter-btn" onclick="addFetalMovement()" id="addBtn" disabled>
                        <div class="btn-icon-wrapper">
                            <i class="fas fa-hand-holding-heart"></i>
                        </div>
                        <span class="btn-text">感受到胎动了</span>
                        <div class="btn-ripple"></div>
                    </button>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1rem;">
                    <button class="contraction-btn" onclick="startFetalCount()" id="startBtn" style="background: rgba(255,255,255,0.3);">
                        <i class="fas fa-play" style="margin-right: 0.5rem;"></i>开始监测
                    </button>
                    <button class="contraction-btn" onclick="endFetalCount()" id="endBtn" style="background: rgba(255,255,255,0.2); opacity: 0.5;" disabled>
                        <i class="fas fa-stop" style="margin-right: 0.5rem;"></i>结束记录
                    </button>
                </div>
            </div>

            <!-- 今日记录 -->
            <div class="crystal-card" style="padding: 1.5rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h3 style="color: #1E293B; margin: 0;">今日记录</h3>
                    <span style="color: #64748B; font-size: 0.9rem;">共2次监测</span>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.8rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(76,217,100,0.05); border-radius: 12px; border: 1px solid rgba(76,217,100,0.2);">
                        <div style="flex: 1;">
                            <div style="color: #1E293B; font-weight: 600; font-size: 1rem; margin-bottom: 0.5rem;">09:30 - 09:50</div>
                            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                <div style="color: #64748B; font-size: 0.9rem;">
                                    <i class="fas fa-clock" style="color: #5AC8FA;"></i> 20分钟
                                </div>
                                <div style="color: #64748B; font-size: 0.9rem;">
                                    <i class="fas fa-hand-pointer" style="color: #5AC8FA;"></i> 总计 15次
                                </div>
                                <div style="color: #4CD964; font-size: 0.9rem; font-weight: 600;">
                                    <i class="fas fa-check-circle"></i> 有效 8次
                                </div>
                            </div>
                        </div>
                        <div style="background: #4CD964; color: white; padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600; white-space: nowrap;">
                            正常
                        </div>
                    </div>

                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(255,107,157,0.05); border-radius: 12px; border: 1px solid rgba(255,107,157,0.2);">
                        <div style="flex: 1;">
                            <div style="color: #1E293B; font-weight: 600; font-size: 1rem; margin-bottom: 0.5rem;">14:15 - 16:20</div>
                            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                <div style="color: #64748B; font-size: 0.9rem;">
                                    <i class="fas fa-clock" style="color: #5AC8FA;"></i> 125分钟
                                </div>
                                <div style="color: #64748B; font-size: 0.9rem;">
                                    <i class="fas fa-hand-pointer" style="color: #5AC8FA;"></i> 总计 8次
                                </div>
                                <div style="color: #FF6B9D; font-size: 0.9rem; font-weight: 600;">
                                    <i class="fas fa-times-circle"></i> 有效 4次
                                </div>
                            </div>
                        </div>
                        <div style="background: #FF6B9D; color: white; padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600; white-space: nowrap;">
                            偏少
                        </div>
                    </div>
                </div>
            </div>

            <!-- 胎动标准说明 -->
            <div class="streamer-item" style="padding: 1.5rem; margin-top: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem; font-size: 1rem;">
                    <i class="fas fa-book-medical" style="color: #5AC8FA; margin-right: 0.5rem;"></i>
                    胎动计数说明
                </h3>
                <div style="display: flex; flex-direction: column; gap: 0.8rem; color: #64748B; font-size: 0.9rem; line-height: 1.6;">
                    <div style="display: flex; align-items: start; gap: 0.5rem;">
                        <i class="fas fa-info-circle" style="color: #5AC8FA; margin-top: 0.2rem;"></i>
                        <span><strong style="color: #1E293B;">总次数：</strong>感受到胎动时点击"+"按钮，记录所有胎动次数</span>
                    </div>
                    <div style="display: flex; align-items: start; gap: 0.5rem;">
                        <i class="fas fa-check-circle" style="color: #4CD964; margin-top: 0.2rem;"></i>
                        <span><strong style="color: #1E293B;">有效次数：</strong>间隔超过5分钟的胎动计为1次有效，连续胎动算1次</span>
                    </div>
                    <div style="display: flex; align-items: start; gap: 0.5rem;">
                        <i class="fas fa-check" style="color: #4CD964; margin-top: 0.2rem;"></i>
                        <span><strong style="color: #1E293B;">正常标准：</strong>2小时内有效次数 ≥ 6次为正常，或12小时内 ≥ 30次</span>
                    </div>
                    <div style="display: flex; align-items: start; gap: 0.5rem;">
                        <i class="fas fa-exclamation-triangle" style="color: #FF9500; margin-top: 0.2rem;"></i>
                        <span><strong style="color: #1E293B;">异常情况：</strong>2小时内 < 6次，或12小时内 < 10次，应及时就医</span>
                    </div>
                    <div style="display: flex; align-items: start; gap: 0.5rem;">
                        <i class="fas fa-lightbulb" style="color: #5AC8FA; margin-top: 0.2rem;"></i>
                        <span><strong style="color: #1E293B;">监测建议：</strong>每天早、中、晚各监测1次，饭后1-2小时胎动更活跃</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 宫缩计时页面 -->
        <div id="contractionPage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('homePage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">宫缩计时</h2>
                <i class="fas fa-wave-square" style="color: #FF9500; font-size: 1.5rem;"></i>
            </div>

            <div class="contraction-container">
                <div style="color: rgba(255,255,255,0.8); font-size: 1rem;">当前宫缩时长</div>
                <div class="contraction-timer">00:45</div>
                <div style="display: flex; justify-content: space-around; margin-bottom: 1rem;">
                    <div>
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.9rem;">上次间隔</div>
                        <div style="color: white; font-weight: 600;">15分钟</div>
                    </div>
                    <div>
                        <div style="color: rgba(255,255,255,0.8); font-size: 0.9rem;">平均频率</div>
                        <div style="color: white; font-weight: 600;">12分钟/次</div>
                    </div>
                </div>
                <div class="contraction-controls">
                    <button class="contraction-btn">开始宫缩</button>
                </div>
            </div>

            <div class="crystal-card" style="padding: 1.5rem;">
                <h3 style="color: #1E293B; margin-bottom: 1rem;">宫缩记录</h3>
                <div style="display: flex; flex-direction: column; gap: 0.8rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem 0; border-bottom: 1px solid #F1F5F9;">
                        <div>
                            <div style="color: #1E293B; font-weight: 600;">14:30</div>
                            <div style="color: #64748B; font-size: 0.9rem;">00:45 (间隔15分钟)</div>
                        </div>
                        <i class="fas fa-check-circle" style="color: #4CD964;"></i>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem 0; border-bottom: 1px solid #F1F5F9;">
                        <div>
                            <div style="color: #1E293B; font-weight: 600;">14:15</div>
                            <div style="color: #64748B; font-size: 0.9rem;">00:50 (间隔18分钟)</div>
                        </div>
                        <i class="fas fa-check-circle" style="color: #4CD964;"></i>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem 0;">
                        <div>
                            <div style="color: #1E293B; font-weight: 600;">13:57</div>
                            <div style="color: #64748B; font-size: 0.9rem;">00:48 (间隔20分钟)</div>
                        </div>
                        <i class="fas fa-check-circle" style="color: #4CD964;"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- 疫苗接种页面 -->
        <div id="vaccinePage" class="page tool-page">
            <div class="tool-header">
                <button class="tool-back" onclick="showPage('homePage')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="tool-title">疫苗接种</h2>
                <i class="fas fa-syringe" style="color: #FF6B9D; font-size: 1.5rem;"></i>
            </div>

            <div style="text-align: center; margin-bottom: 2rem;">
                <div style="color: #64748B; font-size: 0.9rem;">宝宝: 3个月15天</div>
            </div>

            <div class="vaccine-list">
                <div class="vaccine-card">
                    <div class="vaccine-header">
                        <div class="vaccine-name">乙肝疫苗(第2剂)</div>
                        <div class="vaccine-status completed">已接种</div>
                    </div>
                    <div class="vaccine-info">
                        <span>2024-01-10</span>
                        <span>已完成</span>
                    </div>
                </div>

                <div class="vaccine-card">
                    <div class="vaccine-header">
                        <div class="vaccine-name">脊灰疫苗(第1剂)</div>
                        <div class="vaccine-status upcoming">即将接种</div>
                    </div>
                    <div class="vaccine-info">
                        <span>2024-02-15</span>
                        <span>距离15天</span>
                    </div>
                </div>

                <div class="vaccine-card">
                    <div class="vaccine-header">
                        <div class="vaccine-name">百白破疫苗(第2剂)</div>
                        <div class="vaccine-status future">未来计划</div>
                    </div>
                    <div class="vaccine-info">
                        <span>2024-03-20</span>
                        <span>距离48天</span>
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button class="fluid-button" style="flex: 1; padding: 1rem;">生成接种证明</button>
                <button class="fluid-button" style="flex: 1; padding: 1rem; background: linear-gradient(135deg, #64748B, #94A3B8);">设置提醒</button>
            </div>
        </div>
    </div>

    <script>
        // 用户状态（可以根据用户选择更改）
        let userStatus = 'health'; // 'health', 'pregnancy', 'parenting'

        // 用户设置数据
        let userSettings = {
            userName: '用户昵称',
            lastPeriodDate: null,
            dueDate: null,
            cycleLength: 28,
            periodLength: 5
        };

        function showPage(pageId) {
            // 隐藏所有页面
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // 显示目标页面
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            // 如果是主页面，根据用户状态显示对应内容
            if (pageId === 'homePage') {
                updateHomePageContent();
            }

            // 更新底部导航激活状态
            updateBottomNav(pageId);
        }

        // 更新主页面内容
        function updateHomePageContent() {
            const pregnancyCard = document.getElementById('pregnancyCard');
            const pregnancyGreeting = document.getElementById('pregnancyGreeting');
            const mainHeader = document.querySelector('.main-header');

            // 根据用户状态显示或隐藏孕期相关元素
            if (userStatus === 'pregnancy') {
                // 孕期模式：显示孕期卡片和问候语，隐藏普通状态栏
                if (pregnancyCard) pregnancyCard.style.display = 'block';
                if (pregnancyGreeting) pregnancyGreeting.style.display = 'block';
                if (mainHeader) mainHeader.style.display = 'none';

                // 更新问候语（根据时间）
                updateGreeting();
            } else {
                // 其他模式：显示普通状态栏，隐藏孕期元素
                if (pregnancyCard) pregnancyCard.style.display = 'none';
                if (pregnancyGreeting) pregnancyGreeting.style.display = 'none';
                if (mainHeader) mainHeader.style.display = 'flex';
            }
        }

        // 更新底部导航激活状态
        function updateBottomNav(activePage) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });

            // 根据页面ID设置对应的导航项为激活状态
            switch(activePage) {
                case 'homePage':
                    document.querySelector('.nav-item:nth-child(1)').classList.add('active');
                    break;
                case 'toolsPage':
                    document.querySelector('.nav-item:nth-child(2)').classList.add('active');
                    break;
                case 'profilePage':
                    document.querySelector('.nav-item:nth-child(4)').classList.add('active');
                    break;
            }
        }

        // 更新问候语（根据当前时间）
        function updateGreeting() {
            const greetingText = document.querySelector('.pregnancy-greeting .status-text');
            const hour = new Date().getHours();
            let greeting = '早安';
            let icon = 'fa-sun';
            let iconColor = '#FF9500';

            if (hour >= 6 && hour < 12) {
                greeting = '早安';
                icon = 'fa-sun';
                iconColor = '#FF9500';
            } else if (hour >= 12 && hour < 18) {
                greeting = '午安';
                icon = 'fa-cloud-sun';
                iconColor = '#5AC8FA';
            } else {
                greeting = '晚安';
                icon = 'fa-moon';
                iconColor = '#9AE6FF';
            }

            const greetingElement = document.querySelector('#pregnancyGreeting > div > div > div:first-child > div:first-child');
            if (greetingElement) {
                greetingElement.innerHTML = `<i class="fas ${icon}" style="color: ${iconColor}; margin-right: 0.5rem;"></i>${greeting}，准妈妈`;
            }
        }

        // 显示孕期指南
        function showPregnancyGuide() {
            alert('孕期指南\n\n【宝宝发育】\n35周的宝宝身长约469mm，体重约2532g，相当于一个大椰子的大小。此时宝宝的各项器官已基本发育成熟，正在积累脂肪准备出生。\n\n【妈妈变化】\n本周可能会感到行动更加不便，建议多休息，保持心情愉悦。注意监测胎动，如有异常及时就医。');
        }

        // 设置用户状态（从状态选择页调用）
        function setUserStatus(status) {
            userStatus = status;

            // 更新顶部状态文本（仅非孕期状态）
            if (status !== 'pregnancy') {
                const statusText = document.querySelector('.status-text');
                const statusDays = document.querySelector('.status-days');
                if (statusText && statusDays) {
                    switch(status) {
                        case 'health':
                            statusText.textContent = '经期第3天';
                            statusDays.textContent = '剩余2天';
                            break;
                        case 'parenting':
                            statusText.textContent = '宝宝3个月15天';
                            statusDays.textContent = '健康成长中';
                            break;
                    }
                }
            }

            showPage('homePage');
        }

        // 测试：切换用户状态（用于演示）
        function toggleUserStatus() {
            const statuses = ['health', 'pregnancy', 'parenting'];
            const currentIndex = statuses.indexOf(userStatus);
            userStatus = statuses[(currentIndex + 1) % statuses.length];
            updateHomePageContent();
            updateProfilePage();

            // 更新顶部状态文本（仅非孕期状态）
            if (userStatus !== 'pregnancy') {
                const statusText = document.querySelector('.status-text');
                const statusDays = document.querySelector('.status-days');
                if (statusText && statusDays) {
                    switch(userStatus) {
                        case 'health':
                            statusText.textContent = '经期第3天';
                            statusDays.textContent = '剩余2天';
                            break;
                        case 'parenting':
                            statusText.textContent = '宝宝3个月15天';
                            statusDays.textContent = '健康成长中';
                            break;
                    }
                }
            }
        }

        // 更新设置页面显示
        function updateProfilePage() {
            // 更新用户名显示
            document.getElementById('userNameDisplay').textContent = userSettings.userName;
            document.getElementById('currentUserName').textContent = userSettings.userName;

            // 更新状态显示
            let statusText = '';
            switch(userStatus) {
                case 'health':
                    statusText = '女性健康管理';
                    break;
                case 'pregnancy':
                    statusText = '孕期管理';
                    break;
                case 'parenting':
                    statusText = '育儿管理';
                    break;
            }
            document.getElementById('currentUserStatus').textContent = statusText;

            // 更新经期设置显示
            document.getElementById('lastPeriodDate').textContent =
                userSettings.lastPeriodDate ? formatDate(new Date(userSettings.lastPeriodDate)) : '未设置';
            document.getElementById('cycleLength').textContent =
                userSettings.cycleLength + '天' + (userSettings.cycleLength === 28 ? ' (默认)' : '');
            document.getElementById('periodLength').textContent =
                userSettings.periodLength + '天' + (userSettings.periodLength === 5 ? ' (默认)' : '');

            // 更新孕期设置显示
            document.getElementById('dueDate').textContent =
                userSettings.dueDate ? formatDate(new Date(userSettings.dueDate)) : '未设置';

            // 计算并显示末次月经时间
            if (userSettings.dueDate) {
                const lmpDate = new Date(userSettings.dueDate);
                lmpDate.setDate(lmpDate.getDate() - 280); // 预产期前280天
                document.getElementById('calculatedLMP').textContent = formatDate(lmpDate);
            } else {
                document.getElementById('calculatedLMP').textContent = '点击设置预产期自动计算';
            }
        }

        // 编辑用户名
        function editUserName() {
            const newName = prompt('请输入新的昵称：', userSettings.userName);
            if (newName && newName.trim() !== '') {
                userSettings.userName = newName.trim();
                updateProfilePage();
                alert('昵称修改成功！');
            }
        }

        // 设置末次月经时间
        function setLastPeriodDate() {
            const today = new Date();
            const defaultDate = userSettings.lastPeriodDate ?
                new Date(userSettings.lastPeriodDate).toISOString().split('T')[0] :
                today.toISOString().split('T')[0];

            const newDate = prompt('请输入末次月经时间 (YYYY-MM-DD)：', defaultDate);
            if (newDate) {
                const dateObj = new Date(newDate);
                if (!isNaN(dateObj.getTime())) {
                    userSettings.lastPeriodDate = dateObj.toISOString();
                    updateProfilePage();
                    alert('末次月经时间设置成功！');
                } else {
                    alert('日期格式不正确，请使用 YYYY-MM-DD 格式');
                }
            }
        }

        // 设置周期长度
        function setCycleLength() {
            const newLength = prompt('请输入月经周期长度 (天)：', userSettings.cycleLength);
            if (newLength && !isNaN(newLength) && newLength >= 21 && newLength <= 35) {
                userSettings.cycleLength = parseInt(newLength);
                updateProfilePage();
                alert('周期长度设置成功！');
            } else if (newLength) {
                alert('请输入21-35之间的有效数字');
            }
        }

        // 设置经期长度
        function setPeriodLength() {
            const newLength = prompt('请输入经期长度 (天)：', userSettings.periodLength);
            if (newLength && !isNaN(newLength) && newLength >= 3 && newLength <= 7) {
                userSettings.periodLength = parseInt(newLength);
                updateProfilePage();
                alert('经期长度设置成功！');
            } else if (newLength) {
                alert('请输入3-7之间的有效数字');
            }
        }

        // 设置预产期
        function setDueDate() {
            const today = new Date();
            const defaultDate = userSettings.dueDate ?
                new Date(userSettings.dueDate).toISOString().split('T')[0] :
                today.toISOString().split('T')[0];

            const newDate = prompt('请输入预产期 (YYYY-MM-DD)：', defaultDate);
            if (newDate) {
                const dateObj = new Date(newDate);
                if (!isNaN(dateObj.getTime())) {
                    userSettings.dueDate = dateObj.toISOString();
                    updateProfilePage();
                    alert('预产期设置成功！');
                } else {
                    alert('日期格式不正确，请使用 YYYY-MM-DD 格式');
                }
            }
        }

        // 根据预产期计算末次月经
        function calculateFromDueDate() {
            if (!userSettings.dueDate) {
                alert('请先设置预产期');
                return;
            }

            const dueDate = new Date(userSettings.dueDate);
            const lmpDate = new Date(dueDate);
            lmpDate.setDate(lmpDate.getDate() - 280); // 预产期前280天

            userSettings.lastPeriodDate = lmpDate.toISOString();
            updateProfilePage();
            alert('已根据预产期自动计算末次月经时间：' + formatDate(lmpDate));
        }

        // 禅寂计算工具函数
        let currentCalculationMethod = 'lmp';

        // 选择计算方式
        function selectMethod(method) {
            currentCalculationMethod = method;

            // 更新按钮状态
            document.querySelectorAll('.calculation-method-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(method + 'Method').classList.add('active');

            // 显示对应的输入区域
            document.getElementById('lmpInputGroup').style.display = method === 'lmp' ? 'block' : 'none';
            document.getElementById('conceptionInputGroup').style.display = method === 'conception' ? 'block' : 'none';
            document.getElementById('ivfInputGroup').style.display = method === 'ivf' ? 'block' : 'none';
        }

        // 计算预产期
        function calculateDueDate() {
            let dueDate;
            let lmpDate;
            let currentWeek;
            let currentDay;
            let daysToGo;
            const today = new Date();

            switch(currentCalculationMethod) {
                case 'lmp':
                    const lmpInput = document.getElementById('lmpDate').value;
                    if (!lmpInput) {
                        alert('请输入末次月经日期');
                        return;
                    }
                    lmpDate = new Date(lmpInput);
                    dueDate = new Date(lmpDate);
                    dueDate.setDate(dueDate.getDate() + 280); // 末次月经后280天
                    break;

                case 'conception':
                    const conceptionInput = document.getElementById('conceptionDate').value;
                    if (!conceptionInput) {
                        alert('请输入受孕日期');
                        return;
                    }
                    const conceptionDate = new Date(conceptionInput);
                    dueDate = new Date(conceptionDate);
                    dueDate.setDate(dueDate.getDate() + 266); // 受孕后266天
                    lmpDate = new Date(conceptionDate);
                    lmpDate.setDate(lmpDate.getDate() - 14); // 受孕前14天
                    break;

                case 'ivf':
                    const ivfInput = document.getElementById('ivfDate').value;
                    if (!ivfInput) {
                        alert('请输入移植日期');
                        return;
                    }
                    const ivfDate = new Date(ivfInput);
                    const embryoType = document.querySelector('input[name="embryoType"]:checked').value;

                    if (embryoType === 'day3') {
                        dueDate = new Date(ivfDate);
                        dueDate.setDate(dueDate.getDate() + 263); // 第3天胚胎移植后263天
                        lmpDate = new Date(ivfDate);
                        lmpDate.setDate(lmpDate.getDate() - 17); // 移植前17天
                    } else {
                        dueDate = new Date(ivfDate);
                        dueDate.setDate(dueDate.getDate() + 261); // 第5天囊胚移植后261天
                        lmpDate = new Date(ivfDate);
                        lmpDate.setDate(lmpDate.getDate() - 19); // 移植前19天
                    }
                    break;
            }

            // 计算孕周和剩余天数
            const daysPregnant = Math.floor((today - lmpDate) / (1000 * 60 * 60 * 24));
            currentWeek = Math.floor(daysPregnant / 7);
            currentDay = daysPregnant % 7;
            daysToGo = Math.floor((dueDate - today) / (1000 * 60 * 60 * 24));

            // 显示结果
            showCalculationResult(dueDate, lmpDate, currentWeek, currentDay, daysToGo);
        }

        // 显示计算结果
        function showCalculationResult(dueDate, lmpDate, currentWeek, currentDay, daysToGo) {
            // 移除之前的结果
            const existingResult = document.querySelector('.result-card');
            if (existingResult) {
                existingResult.remove();
            }

            // 创建结果卡片
            const resultCard = document.createElement('div');
            resultCard.className = 'result-card';
            resultCard.innerHTML = `
                <div class="result-title">
                    <i class="fas fa-baby" style="color: #FF6B9D; margin-right: 0.5rem;"></i>
                    预产期计算结果
                </div>
                <div class="result-date">${formatDate(dueDate)}</div>
                <div style="color: #64748B; font-size: 1rem; margin-bottom: 1.5rem;">
                    您的宝宝预计在 <strong style="color: #667eea;">${formatDate(dueDate)}</strong> 出生
                </div>
                <div class="result-details">
                    <div class="detail-item">
                        <div class="detail-label">当前孕周</div>
                        <div class="detail-value">${currentWeek}周${currentDay}天</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">剩余天数</div>
                        <div class="detail-value">${daysToGo}天</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">末次月经</div>
                        <div class="detail-value">${formatDate(lmpDate)}</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">孕期进度</div>
                        <div class="detail-value">${Math.round((280 - daysToGo) / 280 * 100)}%</div>
                    </div>
                </div>
                <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(102, 126, 234, 0.05); border-radius: 12px;">
                    <div style="color: #64748B; font-size: 0.9rem; line-height: 1.5;">
                        <i class="fas fa-lightbulb" style="color: #FF9500; margin-right: 0.5rem;"></i>
                        <strong>温馨提示：</strong>预产期仅供参考，实际分娩日期可能会提前或推后1-2周
                    </div>
                </div>
            `;

            // 添加到页面
            const inputContainer = document.querySelector('#dueDateCalculatorPage .streamer-item');
            inputContainer.parentNode.insertBefore(resultCard, inputContainer.nextSibling);

            // 滚动到结果
            resultCard.scrollIntoView({ behavior: 'smooth' });
        }

        // 打开预产期计算工具
        function openDueDateCalculator() {
            showPage('dueDateCalculatorPage');
            // 重置输入
            document.getElementById('lmpDate').value = '';
            document.getElementById('conceptionDate').value = '';
            document.getElementById('ivfDate').value = '';
            // 移除之前的结果
            const existingResult = document.querySelector('.result-card');
            if (existingResult) {
                existingResult.remove();
            }
            // 默认选择末次月经方式
            selectMethod('lmp');
        }

        // 更换头像（演示功能）
        function changeAvatar() {
            alert('头像更换功能\n\n在实际应用中，这里会调用相册或相机来更换头像。');
        }

        // 格式化日期
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}年${month}月${day}日`;
        }

        // 胎动计数相关变量
        let fetalCountStartTime = null;
        let fetalCountTimer = null;
        let fetalTotalCount = 0; // 总次数
        let fetalValidCount = 0; // 有效次数
        let lastMovementTime = null; // 上次胎动时间

        // 开始胎动监测
        function startFetalCount() {
            fetalCountStartTime = new Date();
            fetalTotalCount = 0;
            fetalValidCount = 0;
            lastMovementTime = null;

            // 更新UI
            document.getElementById('totalCount').textContent = '0';
            document.getElementById('validCount').textContent = '0';
            document.getElementById('startTime').textContent = formatTime(fetalCountStartTime);
            document.getElementById('lastMovementTime').textContent = '--:--';
            document.getElementById('addBtn').disabled = false;
            document.getElementById('startBtn').disabled = true;
            document.getElementById('startBtn').style.opacity = '0.5';
            document.getElementById('endBtn').disabled = false;
            document.getElementById('endBtn').style.opacity = '1';

            // 启动计时器
            fetalCountTimer = setInterval(updateFetalTimer, 1000);
        }

        // 更新胎动计时器
        function updateFetalTimer() {
            if (!fetalCountStartTime) return;

            const now = new Date();
            const elapsed = Math.floor((now - fetalCountStartTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;

            document.getElementById('timerDisplay').textContent =
                `计时: ${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        // 添加胎动次数
        function addFetalMovement() {
            const currentTime = new Date();

            // 总次数 +1
            fetalTotalCount++;
            document.getElementById('totalCount').textContent = fetalTotalCount;

            // 判断是否为有效次数（距离上次胎动超过5分钟，或者是第一次）
            if (lastMovementTime === null || (currentTime - lastMovementTime) >= 300000) { // 300000ms = 5分钟
                fetalValidCount++;
                document.getElementById('validCount').textContent = fetalValidCount;

                // 添加特殊动画提示这是有效次数
                const validCounter = document.getElementById('validCount');
                validCounter.style.transform = 'scale(1.3)';
                validCounter.style.color = '#4CD964';
                setTimeout(() => {
                    validCounter.style.transform = 'scale(1)';
                    validCounter.style.color = 'white';
                }, 300);
            }

            // 记录本次胎动时间
            lastMovementTime = currentTime;
            document.getElementById('lastMovementTime').textContent = formatTime(currentTime);

            // 添加动画效果
            const totalCounter = document.getElementById('totalCount');
            totalCounter.style.transform = 'scale(1.2)';
            setTimeout(() => {
                totalCounter.style.transform = 'scale(1)';
            }, 200);

            // 达到有效次数目标时提示
            if (fetalValidCount === 6) {
                setTimeout(() => {
                    const elapsed = Math.floor((currentTime - fetalCountStartTime) / 60000);
                    alert(`恭喜！已达到有效次数6次\n\n用时：${elapsed}分钟\n总次数：${fetalTotalCount}次\n\n胎动正常，您可以继续监测或结束记录。`);
                }, 300);
            }
        }

        // 结束胎动监测
        function endFetalCount() {
            if (!fetalCountStartTime) return;

            clearInterval(fetalCountTimer);

            const endTime = new Date();
            const duration = Math.floor((endTime - fetalCountStartTime) / 60000); // 分钟

            // 判断监测结果
            let statusText = '';
            let statusIcon = '';

            if (duration <= 120 && fetalValidCount >= 6) {
                statusText = '✅ 胎动正常';
                statusIcon = '😊';
            } else if (fetalValidCount < 6) {
                statusText = '⚠️ 有效次数偏少';
                statusIcon = '😟';
            } else {
                statusText = '⏱️ 监测时间较长';
                statusIcon = '🤔';
            }

            // 显示结果
            alert(`${statusIcon} 监测完成！\n\n━━━━━━━━━━━━━━━\n📊 本次统计：\n• 总次数：${fetalTotalCount} 次\n• 有效次数：${fetalValidCount} 次\n• 监测时长：${duration} 分钟\n━━━━━━━━━━━━━━━\n${statusText}\n\n${fetalValidCount >= 6 ? '胎动正常，继续保持监测。' : '建议稍后再次监测，如持续偏少请及时就医。'}`);

            // 重置UI
            document.getElementById('totalCount').textContent = '0';
            document.getElementById('validCount').textContent = '0';
            document.getElementById('startTime').textContent = '--:--';
            document.getElementById('lastMovementTime').textContent = '--:--';
            document.getElementById('timerDisplay').textContent = '计时: 00:00';
            document.getElementById('addBtn').disabled = true;
            document.getElementById('startBtn').disabled = false;
            document.getElementById('startBtn').style.opacity = '1';
            document.getElementById('endBtn').disabled = true;
            document.getElementById('endBtn').style.opacity = '0.5';

            // 重置变量
            fetalCountStartTime = null;
            fetalTotalCount = 0;
            fetalValidCount = 0;
            lastMovementTime = null;
        }

        // 格式化时间
        function formatTime(date) {
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            return `${hours}:${minutes}`;
        }

        // 默认显示启动页
        document.addEventListener('DOMContentLoaded', function() {
            showPage('splashPage');
            updateProfilePage(); // 初始化设置页面数据
        });
    </script>
</body>
</html>
